# Dicton Configuration

# =============================================================================
# STT Provider Configuration
# =============================================================================

# Primary STT provider: "gladia" (recommended) or "elevenlabs"
# Gladia: Real-time streaming (near-zero latency), native translation, $0.61-0.75/hr
# ElevenLabs: Batch mode only, high quality, pricing unclear for STT
# If the primary fails, the other will be used as fallback (if configured)
STT_PROVIDER=elevenlabs

# STT Mode: "streaming" (real-time) or "batch" (record then transcribe)
# Streaming transcribes DURING recording for near-instant results
# Only supported by Gladia - ElevenLabs will always use batch mode
STT_MODE=batch

# Gladia API key (recommended STT provider)
# Get your key at: https://app.gladia.io/account/api-keys
# Pricing: $0.61-0.75/hr, 10 free hours/month
GLADIA_API_KEY=

# ElevenLabs API key (fallback STT provider)
# Get your key at: https://elevenlabs.io/app/settings/api-keys
ELEVENLABS_API_KEY=your_elevenlabs_key_here

# ElevenLabs STT model
ELEVENLABS_MODEL=scribe_v1

# =============================================================================
# LLM Provider (for Act on Text, reformulation, translation)
# =============================================================================

# Primary LLM provider: "gemini" or "anthropic"
# If the primary fails, the other will be used as fallback (if configured)
LLM_PROVIDER=gemini

# Gemini API key
# Get your key at: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# Gemini model to use
GEMINI_MODEL=gemini-2.5-flash-lite

# Anthropic API key (alternative to Gemini)
# Get your key at: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Anthropic model to use
ANTHROPIC_MODEL=claude-sonnet-4-20250514

# API timeout in seconds (prevents infinite hang if VPN blocks APIs)
# Used for LLM calls (Anthropic, Gemini)
API_TIMEOUT=30

# STT timeout in seconds (longer for ElevenLabs processing large audio)
# Rule: ~10s per minute of audio + 30s base. Default 120s = ~9 min audio
STT_TIMEOUT=120

# =============================================================================
# Hotkey Configuration
# =============================================================================

# Hotkey base: "fn" for FN key (Linux only), or "custom" for custom modifier combo
HOTKEY_BASE=fn

# Custom hotkey combo (used if HOTKEY_BASE is "custom")
# Format: modifier+modifier+key, e.g., "alt+g", "ctrl+shift+d"
CUSTOM_HOTKEY_VALUE=alt+g

# Tap detection threshold in ms - releases shorter than this are treated as taps
# Recording starts INSTANTLY on key press (zero latency PTT)
# This threshold only affects tap vs hold detection, not response time
# Default: 100ms - increase if accidental taps are triggering, decrease for faster double-tap
HOTKEY_HOLD_THRESHOLD_MS=100

# Double-tap window in ms - second press within this triggers toggle mode
HOTKEY_DOUBLE_TAP_WINDOW_MS=300

# Secondary hotkey (works exactly like FN key, with same modifier combos)
# Options: escape, esc, f1-f12, capslock, pause, insert, home, end, pageup, pagedown, none
# Set to "none" to disable secondary hotkey
SECONDARY_HOTKEY=f1

# =============================================================================
# Visualizer Settings
# =============================================================================

# Theme color (Flexoki palette)
# Options: red, orange, yellow, green, cyan, blue, purple, magenta
THEME_COLOR=orange

# Animation position
# Options: top-right, top-center, top-left, bottom-right, bottom-center, bottom-left, center, center-upper
ANIMATION_POSITION=top-right

# Visualizer style
# Options: minimalistic (small circle), classic (horizontal symmetric bars),
#          legacy (horizontal bars), toric (donut/torus), terminal (retro ASCII look)
VISUALIZER_STYLE=toric

# Visualizer backend
# Options: pygame (default), vispy (OpenGL), gtk (GTK3/Cairo)
VISUALIZER_BACKEND=pygame

# Window opacity (0.0-1.0, Linux only, requires compositor)
VISUALIZER_OPACITY=0.85

# =============================================================================
# Audio & Language Settings
# =============================================================================

# Language: auto, en, fr, etc. (ISO-639-1 or ISO-639-3 codes)
# Set to "auto" for automatic language detection
LANGUAGE=auto

# Microphone: auto or device index number (run with DEBUG=true to see list)
MIC_DEVICE=auto

# Filter filler words (um, uh, like, etc.) from transcription
FILTER_FILLERS=true

# Enable LLM-based reformulation (requires GEMINI_API_KEY or ANTHROPIC_API_KEY)
# When true, uses configured LLM_PROVIDER for smarter cleanup
# When false, uses local regex-based filler removal only
ENABLE_REFORMULATION=true

# =============================================================================
# Context Detection (Active Window Awareness)
# =============================================================================

# Enable context detection - adapts LLM prompts and behavior based on active app
# When enabled, Dicton detects which application has focus (terminal, browser,
# editor, etc.) and adjusts reformulation prompts accordingly
# Set to "false" to disable all active window detection
CONTEXT_ENABLED=true

# Context detection debug mode - logs detected window, app class, and matched profiles
# Useful for troubleshooting context-aware behavior or adding new app profiles
CONTEXT_DEBUG=false

# =============================================================================
# Debug
# =============================================================================

# Debug output (shows device info, timing, etc.)
DEBUG=false
